<?xml version="1.0" encoding="utf-8"?>
<search> 
  
    
    <entry>
      <title><![CDATA[hexo搭建github博客笔记]]></title>
      <url>/2017/04/28/hexo%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E7%AC%94%E8%AE%B0/</url>
      <content type="html"><![CDATA[<p>使用hexo生成静态博客并架设在免费的github page平台<br><a id="more"></a></p>
<h2 id="node-js配置"><a href="#node-js配置" class="headerlink" title="node.js配置"></a>node.js配置</h2><h3 id="安装node-js"><a href="#安装node-js" class="headerlink" title="安装node.js"></a>安装node.js</h3><p>从官网上下载node.js <a href="https://nodejs.org/en/" target="_blank" rel="external">点我下载node.js</a>，安装时注意勾选ADD TO PATH</p>
<h3 id="npm代理设置"><a href="#npm代理设置" class="headerlink" title="npm代理设置"></a>npm代理设置</h3><p>由于众所周知的原因，npm 安装组件时会相当漫长。当使用 Shadowsocks 可以用如下方法来提高下载速度<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">$ git config --global http.http://github.com.proxy https://127.0.0.1:1080$</div><div class="line">$ git config --global https.https://github.com.proxy https://127.0.0.1:1080</div></pre></td></tr></table></figure></p>
<h3 id="设置node-js的源为阿里云"><a href="#设置node-js的源为阿里云" class="headerlink" title="设置node.js的源为阿里云"></a>设置node.js的源为阿里云</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ npm install -g cnpm --registry=https://registry.npm.taobao.org</div></pre></td></tr></table></figure>
<p>或者你直接通过添加 npm 参数 alias 一个新命令<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">alias</span> cnpm=<span class="string">"npm --registry=https://registry.npm.taobao.org \</span></div><div class="line">--cache=<span class="variable">$HOME</span>/.npm/.cache/cnpm \</div><div class="line">--disturl=https://npm.taobao.org/dist \</div><div class="line">--userconfig=<span class="variable">$HOME</span>/.cnpmrc"</div><div class="line"></div><div class="line"><span class="comment"># Or alias it in .bashrc or .zshrc</span></div><div class="line">$ <span class="built_in">echo</span> <span class="string">'\n#alias for cnpm\nalias cnpm="npm --registry=https://registry.npm.taobao.org \</span></div><div class="line">  --cache=$HOME/.npm/.cache/cnpm \</div><div class="line">  --disturl=https://npm.taobao.org/dist \</div><div class="line">  --userconfig=$HOME/.cnpmrc"' &gt;&gt; ~/.zshrc &amp;&amp; <span class="built_in">source</span> ~/.zshrc</div></pre></td></tr></table></figure></p>
<p>  此时即可使用 cnpm 命令来取代 npm 命令了，下载速度嗖嗖的！！！</p>
<h2 id="hexo配置"><a href="#hexo配置" class="headerlink" title="hexo配置"></a>hexo配置</h2><h3 id="安装hexo"><a href="#安装hexo" class="headerlink" title="安装hexo"></a>安装hexo</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">cnpm install -g hexo-cli</div></pre></td></tr></table></figure>
<p>  安装 Hexo 完成后，请执行下列命令，Hexo 将会在指定文件夹中新建所需要的文件。<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">$ hexo init &lt;folder&gt;</div><div class="line">$ <span class="built_in">cd</span> &lt;folder&gt;</div><div class="line">$ npm install</div></pre></td></tr></table></figure></p>
<h3 id="安装hexo的主题Yeelee"><a href="#安装hexo的主题Yeelee" class="headerlink" title="安装hexo的主题Yeelee"></a>安装hexo的主题Yeelee</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">git <span class="built_in">clone</span> https://github.com/MOxFIVE/hexo-theme-yelee.git themes/yelee</div></pre></td></tr></table></figure>
<h3 id="进行自定义配置"><a href="#进行自定义配置" class="headerlink" title="进行自定义配置"></a>进行自定义配置</h3><p>修改hexo根目录下的 _config.yml 和 Yeele 主题的 _config.yml 配置文件即可</p>
<p><strong>附录：</strong><br><a href="https://hexo.io/zh-cn/docs/index.html" target="_blank" rel="external">hexo文档</a> 和 <a href="http://moxfive.coding.me/yelee/" target="_blank" rel="external">Yeele主题文档</a></p>
<h2 id="部署到github"><a href="#部署到github" class="headerlink" title="部署到github"></a>部署到github</h2><h3 id="配置SSh-key"><a href="#配置SSh-key" class="headerlink" title="配置SSh key"></a>配置SSh key</h3><p>首先我们需要检查你电脑上现有的ssh key,打开git bsah，输入命令：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ ls -al ~/.ssh</div></pre></td></tr></table></figure></p>
<p>如果不存在就没有关系，如果存在的话，直接删除.ssh文件夹里面所有文件。 </p>
<p>输入以下命令，记住”<strong>**</strong>@<em>*</em>.com”是我的邮箱，这个邮箱是你当时注册github时所用的邮箱。<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">ssh-keygen -t rsa -C <span class="string">"******@***.com"</span></div></pre></td></tr></table></figure></p>
<p>然后会要求你填写passphrase，一路回车即可。<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">Enter file <span class="keyword">in</span> <span class="built_in">which</span> to save the key (/Users/your_user_directory/.ssh/id_rsa):（回车就好），</div><div class="line">Enter passphrase (empty <span class="keyword">for</span> no passphrase):（回车，不需要输入密码）</div><div class="line">Enter same passphrase again:（回车不需要输入密码）</div></pre></td></tr></table></figure></p>
<p>注意： 因为Hexo的自动部署如果有密码的话会部署失败</p>
<p>输入：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ ssh-agent <span class="_">-s</span></div></pre></td></tr></table></figure></p>
<p>继续输入：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">$ ssh-add ~/.ssh/id_rsa （此时若提示出错了就输入已下命令）</div><div class="line">$ <span class="built_in">eval</span> `ssh-agent <span class="_">-s</span>` </div><div class="line">$ ssh-add</div></pre></td></tr></table></figure></p>
<h3 id="github的SSH设置"><a href="#github的SSH设置" class="headerlink" title="github的SSH设置"></a>github的SSH设置</h3><p>打开网页版github，头像旁边的下拉小箭头选择“Settings”-“SSH keys”-“Add SSH key”<br>在Title里自己起个名字在Key文本框复制上一步生成的id_rsa.pub的文件内容粘贴上即可  </p>
<h3 id="配置Hexo一键部署安装"><a href="#配置Hexo一键部署安装" class="headerlink" title="配置Hexo一键部署安装"></a>配置Hexo一键部署安装</h3><p>打开 Hexo目录下的 _config.yml，这里注意最好不要用记事本打开，因为会出现乱码的，推荐使用 Notepad++，很简单。如果已经在「记事本」中编辑过，需要使用Notepad++ 转码为「utf8」修改_config.yml文件，以下是修改的地方:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">deploy:</div><div class="line"><span class="built_in">type</span>: git     <span class="comment">#冒号后面空一格，半角空格，下面一样,我在这里写注释，你千万别像我一样在修改文件时也写中文注释</span></div><div class="line">repository:git@github.com:u3dysj/u3dysj.github.io.git</div><div class="line">branch: master    <span class="comment"># 分支选择 master</span></div></pre></td></tr></table></figure></p>
<p>先进入 Hexo目录，在文件夹任意地方右键 Git Bash Here  </p>
<p>安装部署所需要的插件：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ cnpm install hexo-deployer-git --save</div></pre></td></tr></table></figure></p>
<p>部署发布命令：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo clean &amp;&amp; hexo g &amp;&amp; hexo deploy</div></pre></td></tr></table></figure></p>
<h2 id="绑定自己的域名"><a href="#绑定自己的域名" class="headerlink" title="绑定自己的域名"></a>绑定自己的域名</h2><p>部署到github以后发现“有言”评论框不显示，原来是github pages开启了全站https，而“有言”评论不支持https。而且如果你的博客引用的图片外链是http的话，图片也不会显示。考虑到github pages只是展示性网站，不必要采用https也为了兼容http链接，所以我们要禁用https采用http就可以了，而github并没有给出关闭https的选项，我们只能通过绑定自己的域名的方式来采用http链接。  </p>
<ol>
<li>在source文件夹中新建一个CNAME文件（无后缀名），然后用文本编辑器打开，在首行添加你的网站域名，注意前面没有http:// ，也没有www，然后使用 hexo g &amp;&amp; hexo d上传部署。</li>
<li>在域名解析提供商（如godaddy）进行设置。在A记录填写你的github地址（如：xxx.github.io）即可使用”域名.com”访问你的网站</li>
</ol>
]]></content>
      
        <categories>
            
            <category> hexo </category>
            
        </categories>
        
        
        <tags>
            
            <tag> 博客 </tag>
            
            <tag> hexo </tag>
            
        </tags>
        
    </entry>
    
  
  
</search>
